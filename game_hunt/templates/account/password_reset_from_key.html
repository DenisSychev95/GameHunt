{% extends "base.html" %}

{% block title %}GameHunt — Новый пароль{% endblock %}

{% block content %}
<section style="max-width: 480px; margin: 0 auto;">
    <h2 style="color: #f97316; margin-bottom: 16px;">Новый пароль</h2>

    {% if token_fail %}
        <p style="color: #f87171; margin-bottom: 12px;">
            Ссылка для сброса пароля недействительна или устарела.
        </p>
        <p>
            <a href="{% url 'account_reset_password' %}" style="color: #f97316;">
                Запросить новую ссылку
            </a>
        </p>
    {% else %}
        <form method="post" action=".">
            {% csrf_token %}
            {{ form.non_field_errors }}


            <div style="margin-bottom: 10px;">
                {{ form.password1.label_tag }}
                <input
                    type="password"
                    name="{{ form.password1.name }}"
                    id="id_new_password1"
                    placeholder="Новый пароль"
                    style="width: 100%; padding: 8px; border-radius: 4px;"
                    required
                >

                {% if form.password1.errors %}
                    <div style="color: #ff7171; font-size: 13px;">
                        {{ form.password1.errors|striptags }}
                    </div>
                {% endif %}
            </div>


            <div style="margin-bottom: 10px;">
                Повтор пароля:
                <input
                    type="password"
                    name="{{ form.password2.name }}"
                    id="id_new_password2"
                    placeholder="Повторите пароль"
                    style="width: 100%; padding: 8px; border-radius: 4px;"
                    required
                >

                {% if form.password2.errors %}
                    <div style="color: #ff7171; font-size: 13px;">
                        {{ form.password2.errors|striptags }}
                    </div>
                {% endif %}
            </div>

            <button type="submit"
                    style="margin-top: 12px; padding: 8px 16px; border: none;
                           background-color: #f97316; color: #fff;
                           border-radius: 4px; cursor: pointer;">
                Сохранить новый пароль
            </button>
        </form>
    {% endif %}
</section>
{% endblock %}